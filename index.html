<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8">
<title>‡∏Ç‡∏ô‡∏≥‡∏•‡∏∏‡∏á‡∏î‡∏≥ ‡πÅ‡∏Ñ‡∏°‡∏õ‡πå‡∏õ‡∏¥‡πâ‡∏á</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
<style>
body{
 font-family:'Kanit',sans-serif;
 background:linear-gradient(180deg,#052e16,#0f3d2e,#fefce8);
 min-height:100vh;
 color:#064e3b;
}
.glass{
 background:rgba(255,255,255,.85);
 backdrop-filter:blur(6px);
 border-radius:1rem;
 box-shadow:0 20px 40px rgba(0,0,0,.25);
 border:1px solid rgba(255,255,255,.4)
}
.btn-main{
 background:linear-gradient(135deg,#064e3b,#14532d);
 color:#fff;
 border-radius:1rem;
 padding:.75rem 1rem;
 box-shadow:0 10px 25px rgba(0,0,0,.3)
}
</style>
</head>
<body class="p-4 max-w-md mx-auto">

<h1 class="text-2xl font-bold text-amber-100 mb-4 drop-shadow-lg">üåø ‡∏Ç‡∏ô‡∏≥‡∏•‡∏∏‡∏á‡∏î‡∏≥ ‡πÅ‡∏Ñ‡∏°‡∏õ‡πå‡∏õ‡∏¥‡πâ‡∏á</h1>
<div id="profile" class="text-sm text-amber-100 mb-3"></div>

<div class="glass p-4 mb-4">
<label class="text-xs">‡∏ß‡∏±‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏û‡∏±‡∏Å</label>
<input type="date" id="checkin" class="w-full border rounded p-2">
<label class="text-xs mt-2 block">‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å</label>
<input type="date" id="checkout" class="w-full border rounded p-2">
</div>

<div class="glass p-4 mb-4">
<h2 class="font-bold mb-2">üèïÔ∏è ‡∏´‡πâ‡∏≠‡∏á‡∏û‡∏±‡∏Å</h2>
<div id="rooms"></div>
</div>

<div class="glass p-4 mb-4">
<h2 class="font-bold mb-2">üçñ ‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h2>
<div id="foods"></div>
</div>

<div class="glass p-4 mb-4">
<label class="text-xs">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏à‡∏≠‡∏á</label>
<input id="custName" class="w-full border rounded p-2">
<label class="text-xs mt-2 block">‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£</label>
<input id="custTel" class="w-full border rounded p-2">
</div>

<div class="glass p-4 mb-4 text-center">
<p>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°</p>
<p id="totalPrice" class="text-3xl font-bold text-emerald-700">0</p>
<p class="text-red-600 text-lg">‡∏°‡∏±‡∏î‡∏à‡∏≥: <span id="deposit">0</span> ‡∏ö‡∏≤‡∏ó</p>
<img id="qr" class="mx-auto my-3 w-48 rounded-xl shadow">
</div>

<div class="glass p-4 mb-4">
<label class="text-xs">‡πÅ‡∏ô‡∏ö‡∏™‡∏•‡∏¥‡∏õ</label>
<input type="file" id="slip">
</div>

<button onclick="submitBooking()" class="btn-main w-full text-lg font-bold">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á</button>

<script>
const LIFF_ID="2008863563-tuai5kaC";
const BACKEND_URL="https://script.google.com/macros/s/AKfycbwb9VWt0rQYJ2dJa9jQKM23YRKsx-YReKnqJTiqGRbg26jEMtPP-RzxDbe_BahxUiSu5g/exec";
let USER_ID="",USER_NAME="";
const ROOMS={
 HS1:{n:"‡πÇ‡∏Æ‡∏°‡∏™‡πÄ‡∏ï‡∏¢‡πå‡∏´‡∏ô‡∏≥‡πÇ‡∏õ",p:[[4,5,1600],[6,8,2200]]},
 RN1:{n:"‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏£‡∏¥‡∏°‡∏ô‡πâ‡∏≥1",p:[[1,2,1400],[3,3,1750]]},
 RN2:{n:"‡∏ö‡πâ‡∏≤‡∏ô‡∏û‡∏±‡∏Å‡∏£‡∏¥‡∏°‡∏ô‡πâ‡∏≥2",p:[[1,2,1400],[3,3,1750]]},
 TJ1:{n:"‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå‡∏Å‡∏£‡∏∞‡πÇ‡∏à‡∏°1",p:[[1,2,1200],[3,4,1550]]},
 TJ2:{n:"‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå‡∏Å‡∏£‡∏∞‡πÇ‡∏à‡∏°2",p:[[1,2,1200],[3,4,1550]]},
 K1:{n:"‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå‡∏™‡∏ô‡∏≤‡∏°K1",p:[[1,2,700]]},
 K2:{n:"‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå‡∏™‡∏ô‡∏≤‡∏°K2",p:[[1,2,700]]},
 TENT:{n:"‡∏•‡∏≤‡∏ô‡∏Å‡∏≤‡∏á‡πÄ‡∏ï‡πá‡∏ô‡∏ó‡πå",p:[[1,20,150]]}
};
const FOODS={‡∏´‡∏°‡∏π‡∏Å‡∏£‡∏∞‡∏ó‡∏∞:390,‡πÑ‡∏Å‡πà‡∏Å‡∏£‡∏∞‡∏ó‡∏∞:390,‡∏ä‡∏≤‡∏ö‡∏π‡∏´‡∏°‡∏π:390,‡∏ä‡∏≤‡∏ö‡∏π‡πÑ‡∏Å‡πà:390,‡∏û‡∏∑‡πâ‡∏ô‡∏ö‡πâ‡∏≤‡∏ô:390};
let sel={},fq={},total=0;

liff.init({liffId:LIFF_ID}).then(()=>liff.getProfile().then(p=>{
 USER_ID=p.userId;USER_NAME=p.displayName;
 profile.innerText="‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ "+USER_NAME;
}));

Object.keys(ROOMS).forEach(k=>{
 rooms.innerHTML+=`
 <div class="mt-2">
 <label>${ROOMS[k].n}</label>
 <input type="number" min="0" class="w-full border rounded p-1"
 onchange="this.value>0?sel['${k}']=+this.value:delete sel['${k}'];calc()">
 </div>`;
});

Object.keys(FOODS).forEach(k=>{
 foods.innerHTML+=`
 <div class="flex justify-between mt-2">
 <span>${k}</span>
 <input type="number" min="0" class="border w-16" onchange="fq['${k}']=this.value;calc()">
 </div>`;
});

function calc(){
 total=0;
 for(let r in sel){
  let p=sel[r],rule=ROOMS[r].p.find(x=>p>=x[0]&&p<=x[1]);
  total+= r=="TENT"?p*150:(rule?rule[2]:0);
 }
 for(let f in fq) total+=FOODS[f]*fq[f];
 totalPrice.innerText=total;
 deposit.innerText=Math.ceil(total/2);
 qr.src="https://promptpay.io/0615924262/"+Math.ceil(total/2);
}

function submitBooking(){
 alert("‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡∏à‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢ ‡∏£‡∏≠‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö");
}
</script>
</body>
</html>
